generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

enum RoleId {
  BRAND
  DESIGNER
  MANUFACTURER
}

model Role {
  id          RoleId
  key         Int    @id @default(autoincrement())
  title       String
  description String
  icon        String
}

model User {
  key            Int             @id @default(autoincrement())
  onboarded      Boolean         @default(false)
  id             String          @unique
  email          String
  fullname       String
  avatar         String
  role           RoleId
  brand          Brand?
  creatorProfile CreatorProfile?
}

model Brand {
  key        Int      @id @default(autoincrement())
  email      String
  name       String
  bio        String
  ownerId    String   @unique
  owner      User     @relation(fields: [ownerId], references: [id])
  location   Location @relation(fields: [locationId], references: [id])
  locationId String
}

model CreatorProfile {
  key      Int    @id @default(autoincrement())
  email    String
  name     String
  bio      String
  location String
  ownerId  String @unique
  owner    User   @relation(fields: [ownerId], references: [id])
}

model Location {
  key         Int     @id @default(autoincrement())
  id          String  @unique
  name        String
  lat         String
  lng         String
  countryCode String
  admin1      String?
  zip         String?
  Brand       Brand[]
}

model Look {
  key Int    @id @default(autoincrement())
  id  String @unique
}
